'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _parse = require('../library/parse');

var _parse2 = _interopRequireDefault(_parse);

var _subjectTense = require('./subject-tense');

var _subjectTense2 = _interopRequireDefault(_subjectTense);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

var messages = {
	empty: 'chore: \n',
	presentImperative: `chore: we implement things`,
	presentParticiple: `chore: implementing things`,
	presentThirdPerson: `chore: implements things`,
	past: `chore: we did implement things`,
	mixed: `chore: implement, implementing, implements, implemented`
};

var parsed = {
	empty: (0, _parse2.default)(messages.empty),
	presentImperative: (0, _parse2.default)(messages.presentImperative),
	presentParticiple: (0, _parse2.default)(messages.presentParticiple),
	presentThirdPerson: (0, _parse2.default)(messages.presentImperative),
	past: (0, _parse2.default)(messages.past),
	mixed: (0, _parse2.default)(messages.mixed)
};

(0, _ava2.default)('empty succeeds', function () {
	var _ref = _asyncToGenerator(function* (t) {
		var _footerTense = (0, _subjectTense2.default)((yield parsed.empty), '', ['present-imperative']),
		    _footerTense2 = _slicedToArray(_footerTense, 1),
		    actual = _footerTense2[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x) {
		return _ref.apply(this, arguments);
	};
}());

(0, _ava2.default)('present succeeds "always present-imperative"', function () {
	var _ref2 = _asyncToGenerator(function* (t) {
		var _footerTense3 = (0, _subjectTense2.default)((yield parsed.presentImperative), 'always', ['present-imperative']),
		    _footerTense4 = _slicedToArray(_footerTense3, 1),
		    actual = _footerTense4[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x2) {
		return _ref2.apply(this, arguments);
	};
}());

(0, _ava2.default)('present fails "never present-imperative"', function () {
	var _ref3 = _asyncToGenerator(function* (t) {
		var _footerTense5 = (0, _subjectTense2.default)((yield parsed.presentImperative), 'never', ['present-imperative']),
		    _footerTense6 = _slicedToArray(_footerTense5, 1),
		    actual = _footerTense6[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x3) {
		return _ref3.apply(this, arguments);
	};
}());

(0, _ava2.default)('present succeeds "always present-participle"', function () {
	var _ref4 = _asyncToGenerator(function* (t) {
		var _footerTense7 = (0, _subjectTense2.default)((yield parsed.presentParticiple), 'always', ['present-participle']),
		    _footerTense8 = _slicedToArray(_footerTense7, 1),
		    actual = _footerTense8[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x4) {
		return _ref4.apply(this, arguments);
	};
}());

(0, _ava2.default)('present fails "never present-participle"', function () {
	var _ref5 = _asyncToGenerator(function* (t) {
		var _footerTense9 = (0, _subjectTense2.default)((yield parsed.presentParticiple), 'never', ['present-participle']),
		    _footerTense10 = _slicedToArray(_footerTense9, 1),
		    actual = _footerTense10[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x5) {
		return _ref5.apply(this, arguments);
	};
}());

(0, _ava2.default)('present succeeds "always present-third-person"', function () {
	var _ref6 = _asyncToGenerator(function* (t) {
		var _footerTense11 = (0, _subjectTense2.default)((yield parsed.presentThirdPerson), 'always', ['present-third-person']),
		    _footerTense12 = _slicedToArray(_footerTense11, 1),
		    actual = _footerTense12[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x6) {
		return _ref6.apply(this, arguments);
	};
}());

(0, _ava2.default)('present fails "never present-third-person"', function () {
	var _ref7 = _asyncToGenerator(function* (t) {
		var _footerTense13 = (0, _subjectTense2.default)((yield parsed.presentThirdPerson), 'never', ['present-third-person']),
		    _footerTense14 = _slicedToArray(_footerTense13, 1),
		    actual = _footerTense14[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x7) {
		return _ref7.apply(this, arguments);
	};
}());

(0, _ava2.default)('past should succedd "always past-tense"', function () {
	var _ref8 = _asyncToGenerator(function* (t) {
		var _footerTense15 = (0, _subjectTense2.default)((yield parsed.past), 'always', ['past-tense']),
		    _footerTense16 = _slicedToArray(_footerTense15, 1),
		    actual = _footerTense16[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x8) {
		return _ref8.apply(this, arguments);
	};
}());

(0, _ava2.default)('past fails "never past-tense"', function () {
	var _ref9 = _asyncToGenerator(function* (t) {
		var _footerTense17 = (0, _subjectTense2.default)((yield parsed.past), 'never', ['past-tense']),
		    _footerTense18 = _slicedToArray(_footerTense17, 1),
		    actual = _footerTense18[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x9) {
		return _ref9.apply(this, arguments);
	};
}());

(0, _ava2.default)('mixed fails "always present-third-person"', function () {
	var _ref10 = _asyncToGenerator(function* (t) {
		var _footerTense19 = (0, _subjectTense2.default)((yield parsed.mixed), 'always', ['present-third-person']),
		    _footerTense20 = _slicedToArray(_footerTense19, 1),
		    actual = _footerTense20[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x10) {
		return _ref10.apply(this, arguments);
	};
}());

(0, _ava2.default)('mixed fails "always present-imperative"', function () {
	var _ref11 = _asyncToGenerator(function* (t) {
		var _footerTense21 = (0, _subjectTense2.default)((yield parsed.mixed), 'always', ['present-imperative']),
		    _footerTense22 = _slicedToArray(_footerTense21, 1),
		    actual = _footerTense22[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x11) {
		return _ref11.apply(this, arguments);
	};
}());

(0, _ava2.default)('present fails "always present-participle"', function () {
	var _ref12 = _asyncToGenerator(function* (t) {
		var _footerTense23 = (0, _subjectTense2.default)((yield parsed.mixed), 'always', ['present-participle']),
		    _footerTense24 = _slicedToArray(_footerTense23, 1),
		    actual = _footerTense24[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x12) {
		return _ref12.apply(this, arguments);
	};
}());

(0, _ava2.default)('mixed fails "always past-tense"', function () {
	var _ref13 = _asyncToGenerator(function* (t) {
		var _footerTense25 = (0, _subjectTense2.default)((yield parsed.mixed), 'always', ['past-tense']),
		    _footerTense26 = _slicedToArray(_footerTense25, 1),
		    actual = _footerTense26[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x13) {
		return _ref13.apply(this, arguments);
	};
}());

(0, _ava2.default)('mixed succeeds "always present-third-person, present-imperative, present-participle, past-tense"', function () {
	var _ref14 = _asyncToGenerator(function* (t) {
		var _footerTense27 = (0, _subjectTense2.default)((yield parsed.mixed), 'always', ['present-third-person', 'present-imperative', 'present-participle', 'past-tense']),
		    _footerTense28 = _slicedToArray(_footerTense27, 1),
		    actual = _footerTense28[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x14) {
		return _ref14.apply(this, arguments);
	};
}());

(0, _ava2.default)('mixed succeeds "never allowed: present-third-person" and matching ignored: implements', function () {
	var _ref15 = _asyncToGenerator(function* (t) {
		var _footerTense29 = (0, _subjectTense2.default)((yield parsed.mixed), 'never', {
			allowed: ['present-third-person'],
			ignored: ['implements']
		}),
		    _footerTense30 = _slicedToArray(_footerTense29, 1),
		    actual = _footerTense30[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x15) {
		return _ref15.apply(this, arguments);
	};
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ydWxlcy9zdWJqZWN0LXRlbnNlLnRlc3QuanMiXSwibmFtZXMiOlsibWVzc2FnZXMiLCJlbXB0eSIsInByZXNlbnRJbXBlcmF0aXZlIiwicHJlc2VudFBhcnRpY2lwbGUiLCJwcmVzZW50VGhpcmRQZXJzb24iLCJwYXN0IiwibWl4ZWQiLCJwYXJzZWQiLCJ0IiwiYWN0dWFsIiwiZXhwZWN0ZWQiLCJpcyIsImFsbG93ZWQiLCJpZ25vcmVkIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7Ozs7QUFDQTs7OztBQUNBOzs7Ozs7OztBQUVBLElBQU1BLFdBQVc7QUFDaEJDLFFBQU8sV0FEUztBQUVoQkMsb0JBQW9CLDRCQUZKO0FBR2hCQyxvQkFBb0IsNEJBSEo7QUFJaEJDLHFCQUFxQiwwQkFKTDtBQUtoQkMsT0FBTyxnQ0FMUztBQU1oQkMsUUFBUTtBQU5RLENBQWpCOztBQVNBLElBQU1DLFNBQVM7QUFDZE4sUUFBTyxxQkFBTUQsU0FBU0MsS0FBZixDQURPO0FBRWRDLG9CQUFtQixxQkFBTUYsU0FBU0UsaUJBQWYsQ0FGTDtBQUdkQyxvQkFBbUIscUJBQU1ILFNBQVNHLGlCQUFmLENBSEw7QUFJZEMscUJBQW9CLHFCQUFNSixTQUFTRSxpQkFBZixDQUpOO0FBS2RHLE9BQU0scUJBQU1MLFNBQVNLLElBQWYsQ0FMUTtBQU1kQyxRQUFPLHFCQUFNTixTQUFTTSxLQUFmO0FBTk8sQ0FBZjs7QUFTQSxtQkFBSyxnQkFBTDtBQUFBLDhCQUF1QixXQUFNRSxDQUFOLEVBQVc7QUFBQSxxQkFDaEIsNkJBQVksTUFBTUQsT0FBT04sS0FBekIsR0FBZ0MsRUFBaEMsRUFBb0MsQ0FBQyxvQkFBRCxDQUFwQyxDQURnQjtBQUFBO0FBQUEsTUFDMUJRLE1BRDBCOztBQUVqQyxNQUFNQyxXQUFXLElBQWpCO0FBQ0FGLElBQUVHLEVBQUYsQ0FBS0YsTUFBTCxFQUFhQyxRQUFiO0FBQ0EsRUFKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQSxtQkFBSyw4Q0FBTDtB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LDZCQUFZLE1BQU1ELE9BQU9ELEtBQXpCLEdBQWdDLFFBQWhDLEVBQTBDLENBQUMsWUFBRCxDQUExQyxDQURpQztBQUFBO0FBQUEsTUFDM0NHLE1BRDJDOztBQUVsRCxNQUFNQyxXQUFXLEtBQWpCO0FBQ0FGLElBQUVHLEVBQUYsQ0FBS0YsTUFBTCxFQUFhQyxRQUFiO0FBQ0EsRUFKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQSxtQkFBSyxrR0FBTDtBQUFBLGdDQUF5RyxXQUFNRixDQUFOLEVBQVc7QUFBQSx1QkFDbEcsNkJBQVksTUFBTUQsT0FBT0QsS0FBekIsR0FBZ0MsUUFBaEMsRUFBMEMsQ0FDMUQsc0JBRDBELEVBRTFELG9CQUYwRCxFQUcxRCxvQkFIMEQsRUFJMUQsWUFKMEQsQ0FBMUMsQ0FEa0c7QUFBQTtBQUFBLE1BQzVHRyxNQUQ0Rzs7QUFPbkgsTUFBTUMsV0FBVyxJQUFqQjtBQUNBRixJQUFFRyxFQUFGLENBQUtGLE1BQUwsRUFBYUMsUUFBYjtBQUNBLEVBVEQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBV0EsbUJBQUssdUZBQUw7QUFBQSxnQ0FBOEYsV0FBTUYsQ0FBTixFQUFXO0FBQUEsdUJBQ3ZGLDZCQUFZLE1BQU1ELE9BQU9ELEtBQXpCLEdBQWdDLE9BQWhDLEVBQXlDO0FBQ3pETSxZQUFTLENBQUMsc0JBQUQsQ0FEZ0Q7QUFFekRDLFlBQVMsQ0FBQyxZQUFEO0FBRmdELEdBQXpDLENBRHVGO0FBQUE7QUFBQSxNQUNqR0osTUFEaUc7O0FBS3hHLE1BQU1DLFdBQVcsSUFBakI7QUFDQUYsSUFBRUcsRUFBRixDQUFLRixNQUFMLEVBQWFDLFFBQWI7QUFDQSxFQVBEOztBQUFBO0FBQUE7QUFBQTtBQUFBIiwiZmlsZSI6InN1YmplY3QtdGVuc2UudGVzdC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0ZXN0IGZyb20gJ2F2YSc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi4vbGlicmFyeS9wYXJzZSc7XG5pbXBvcnQgZm9vdGVyVGVuc2UgZnJvbSAnLi9zdWJqZWN0LXRlbnNlJztcblxuY29uc3QgbWVzc2FnZXMgPSB7XG5cdGVtcHR5OiAnY2hvcmU6IFxcbicsXG5cdHByZXNlbnRJbXBlcmF0aXZlOiBgY2hvcmU6IHdlIGltcGxlbWVudCB0aGluZ3NgLFxuXHRwcmVzZW50UGFydGljaXBsZTogYGNob3JlOiBpbXBsZW1lbnRpbmcgdGhpbmdzYCxcblx0cHJlc2VudFRoaXJkUGVyc29uOiBgY2hvcmU6IGltcGxlbWVudHMgdGhpbmdzYCxcblx0cGFzdDogYGNob3JlOiB3ZSBkaWQgaW1wbGVtZW50IHRoaW5nc2AsXG5cdG1peGVkOiBgY2hvcmU6IGltcGxlbWVudCwgaW1wbGVtZW50aW5nLCBpbXBsZW1lbnRzLCBpbXBsZW1lbnRlZGBcbn07XG5cbmNvbnN0IHBhcnNlZCA9IHtcblx0ZW1wdHk6IHBhcnNlKG1lc3NhZ2VzLmVtcHR5KSxcblx0cHJlc2VudEltcGVyYXRpdmU6IHBhcnNlKG1lc3NhZ2VzLnByZXNlbnRJbXBlcmF0aXZlKSxcblx0cHJlc2VudFBhcnRpY2lwbGU6IHBhcnNlKG1lc3NhZ2VzLnByZXNlbnRQYXJ0aWNpcGxlKSxcblx0cHJlc2VudFRoaXJkUGVyc29uOiBwYXJzZShtZXNzYWdlcy5wcmVzZW50SW1wZXJhdGl2ZSksXG5cdHBhc3Q6IHBhcnNlKG1lc3NhZ2VzLnBhc3QpLFxuXHRtaXhlZDogcGFyc2UobWVzc2FnZXMubWl4ZWQpXG59O1xuXG50ZXN0KCdlbXB0eSBzdWNjZWVkcycsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5lbXB0eSwgJycsIFsncHJlc2VudC1pbXBlcmF0aXZlJ10pO1xuXHRjb25zdCBleHBlY3RlZCA9IHRydWU7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgncHJlc2VudCBzdWNjZWVkcyBcImFsd2F5cyBwcmVzZW50LWltcGVyYXRpdmVcIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wcmVzZW50SW1wZXJhdGl2ZSwgJ2Fsd2F5cycsIFtcblx0XHQncHJlc2VudC1pbXBlcmF0aXZlJ1xuXHRdKTtcblx0Y29uc3QgZXhwZWN0ZWQgPSB0cnVlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3ByZXNlbnQgZmFpbHMgXCJuZXZlciBwcmVzZW50LWltcGVyYXRpdmVcIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wcmVzZW50SW1wZXJhdGl2ZSwgJ25ldmVyJywgW1xuXHRcdCdwcmVzZW50LWltcGVyYXRpdmUnXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3ByZXNlbnQgc3VjY2VlZHMgXCJhbHdheXMgcHJlc2VudC1wYXJ0aWNpcGxlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucHJlc2VudFBhcnRpY2lwbGUsICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtcGFydGljaXBsZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdwcmVzZW50IGZhaWxzIFwibmV2ZXIgcHJlc2VudC1wYXJ0aWNpcGxlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucHJlc2VudFBhcnRpY2lwbGUsICduZXZlcicsIFtcblx0XHQncHJlc2VudC1wYXJ0aWNpcGxlJ1xuXHRdKTtcblx0Y29uc3QgZXhwZWN0ZWQgPSBmYWxzZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdwcmVzZW50IHN1Y2NlZWRzIFwiYWx3YXlzIHByZXNlbnQtdGhpcmQtcGVyc29uXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucHJlc2VudFRoaXJkUGVyc29uLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LXRoaXJkLXBlcnNvbidcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdwcmVzZW50IGZhaWxzIFwibmV2ZXIgcHJlc2VudC10aGlyZC1wZXJzb25cIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wcmVzZW50VGhpcmRQZXJzb24sICduZXZlcicsIFtcblx0XHQncHJlc2VudC10aGlyZC1wZXJzb24nXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3Bhc3Qgc2hvdWxkIHN1Y2NlZGQgXCJhbHdheXMgcGFzdC10ZW5zZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLnBhc3QsICdhbHdheXMnLCBbJ3Bhc3QtdGVuc2UnXSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdwYXN0IGZhaWxzIFwibmV2ZXIgcGFzdC10ZW5zZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLnBhc3QsICduZXZlcicsIFsncGFzdC10ZW5zZSddKTtcblx0Y29uc3QgZXhwZWN0ZWQgPSBmYWxzZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdtaXhlZCBmYWlscyBcImFsd2F5cyBwcmVzZW50LXRoaXJkLXBlcnNvblwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLm1peGVkLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LXRoaXJkLXBlcnNvbidcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnbWl4ZWQgZmFpbHMgXCJhbHdheXMgcHJlc2VudC1pbXBlcmF0aXZlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQubWl4ZWQsICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtaW1wZXJhdGl2ZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgncHJlc2VudCBmYWlscyBcImFsd2F5cyBwcmVzZW50LXBhcnRpY2lwbGVcIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5taXhlZCwgJ2Fsd2F5cycsIFtcblx0XHQncHJlc2VudC1wYXJ0aWNpcGxlJ1xuXHRdKTtcblx0Y29uc3QgZXhwZWN0ZWQgPSBmYWxzZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdtaXhlZCBmYWlscyBcImFsd2F5cyBwYXN0LXRlbnNlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQubWl4ZWQsICdhbHdheXMnLCBbJ3Bhc3QtdGVuc2UnXSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnbWl4ZWQgc3VjY2VlZHMgXCJhbHdheXMgcHJlc2VudC10aGlyZC1wZXJzb24sIHByZXNlbnQtaW1wZXJhdGl2ZSwgcHJlc2VudC1wYXJ0aWNpcGxlLCBwYXN0LXRlbnNlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQubWl4ZWQsICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtdGhpcmQtcGVyc29uJyxcblx0XHQncHJlc2VudC1pbXBlcmF0aXZlJyxcblx0XHQncHJlc2VudC1wYXJ0aWNpcGxlJyxcblx0XHQncGFzdC10ZW5zZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCdtaXhlZCBzdWNjZWVkcyBcIm5ldmVyIGFsbG93ZWQ6IHByZXNlbnQtdGhpcmQtcGVyc29uXCIgYW5kIG1hdGNoaW5nIGlnbm9yZWQ6IGltcGxlbWVudHMnLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQubWl4ZWQsICduZXZlcicsIHtcblx0XHRhbGxvd2VkOiBbJ3ByZXNlbnQtdGhpcmQtcGVyc29uJ10sXG5cdFx0aWdub3JlZDogWydpbXBsZW1lbnRzJ11cblx0fSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuIl19
'use strict';

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _parse = require('../library/parse');

var _parse2 = _interopRequireDefault(_parse);

var _footerTense31 = require('./footer-tense');

var _footerTense32 = _interopRequireDefault(_footerTense31);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }

var messages = {
	empty: 'chore: subject\nbody',
	presentImperative: `chore: subject\nBREAKING CHANGE: we implement things`,
	presentParticiple: `chore: subject\nBREAKING CHANGE: implementing things`,
	presentThirdPerson: `chore: subject\nBREAKING CHANGE: implements things`,
	past: `chore: subject\nBREAKING CHANGE: we did implement things`,
	mixed: `chore: subject\nBREAKING CHANGE: implement, implementing, implements, implemented`
};

var parsed = {
	empty: (0, _parse2.default)(messages.empty),
	presentImperative: (0, _parse2.default)(messages.presentImperative),
	presentParticiple: (0, _parse2.default)(messages.presentParticiple),
	presentThirdPerson: (0, _parse2.default)(messages.presentImperative),
	past: (0, _parse2.default)(messages.past),
	mixed: (0, _parse2.default)(messages.mixed)
};

(0, _ava2.default)('with empty footer should succeed', function () {
	var _ref = _asyncToGenerator(function* (t) {
		var _footerTense = (0, _footerTense32.default)((yield parsed.empty), '', ['present-imperative']),
		    _footerTense2 = _slicedToArray(_footerTense, 1),
		    actual = _footerTense2[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x) {
		return _ref.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should succeed for "always present-imperative"', function () {
	var _ref2 = _asyncToGenerator(function* (t) {
		var _footerTense3 = (0, _footerTense32.default)((yield parsed.presentImperative), 'always', ['present-imperative']),
		    _footerTense4 = _slicedToArray(_footerTense3, 1),
		    actual = _footerTense4[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x2) {
		return _ref2.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should fail for "never present-imperative"', function () {
	var _ref3 = _asyncToGenerator(function* (t) {
		var _footerTense5 = (0, _footerTense32.default)((yield parsed.presentImperative), 'never', ['present-imperative']),
		    _footerTense6 = _slicedToArray(_footerTense5, 1),
		    actual = _footerTense6[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x3) {
		return _ref3.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should succeed for "always present-participle"', function () {
	var _ref4 = _asyncToGenerator(function* (t) {
		var _footerTense7 = (0, _footerTense32.default)((yield parsed.presentParticiple), 'always', ['present-participle']),
		    _footerTense8 = _slicedToArray(_footerTense7, 1),
		    actual = _footerTense8[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x4) {
		return _ref4.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should fail for "never present-participle"', function () {
	var _ref5 = _asyncToGenerator(function* (t) {
		var _footerTense9 = (0, _footerTense32.default)((yield parsed.presentParticiple), 'never', ['present-participle']),
		    _footerTense10 = _slicedToArray(_footerTense9, 1),
		    actual = _footerTense10[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x5) {
		return _ref5.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should succeed for "always present-third-person"', function () {
	var _ref6 = _asyncToGenerator(function* (t) {
		var _footerTense11 = (0, _footerTense32.default)((yield parsed.presentThirdPerson), 'always', ['present-third-person']),
		    _footerTense12 = _slicedToArray(_footerTense11, 1),
		    actual = _footerTense12[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x6) {
		return _ref6.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should fail for "never present-third-person"', function () {
	var _ref7 = _asyncToGenerator(function* (t) {
		var _footerTense13 = (0, _footerTense32.default)((yield parsed.presentThirdPerson), 'never', ['present-third-person']),
		    _footerTense14 = _slicedToArray(_footerTense13, 1),
		    actual = _footerTense14[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x7) {
		return _ref7.apply(this, arguments);
	};
}());

(0, _ava2.default)('with past footer should succedd for "always past-tense"', function () {
	var _ref8 = _asyncToGenerator(function* (t) {
		var _footerTense15 = (0, _footerTense32.default)((yield parsed.past), 'always', ['past-tense']),
		    _footerTense16 = _slicedToArray(_footerTense15, 1),
		    actual = _footerTense16[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x8) {
		return _ref8.apply(this, arguments);
	};
}());

(0, _ava2.default)('with past footer should fail for "never past-tense"', function () {
	var _ref9 = _asyncToGenerator(function* (t) {
		var _footerTense17 = (0, _footerTense32.default)((yield parsed.past), 'never', ['past-tense']),
		    _footerTense18 = _slicedToArray(_footerTense17, 1),
		    actual = _footerTense18[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x9) {
		return _ref9.apply(this, arguments);
	};
}());

(0, _ava2.default)('with mixed footer should fail for "always present-third-person"', function () {
	var _ref10 = _asyncToGenerator(function* (t) {
		var _footerTense19 = (0, _footerTense32.default)((yield parsed.mixed), 'always', ['present-third-person']),
		    _footerTense20 = _slicedToArray(_footerTense19, 1),
		    actual = _footerTense20[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x10) {
		return _ref10.apply(this, arguments);
	};
}());

(0, _ava2.default)('with mixed footer should fail for "always present-imperative"', function () {
	var _ref11 = _asyncToGenerator(function* (t) {
		var _footerTense21 = (0, _footerTense32.default)((yield parsed.mixed), 'always', ['present-imperative']),
		    _footerTense22 = _slicedToArray(_footerTense21, 1),
		    actual = _footerTense22[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x11) {
		return _ref11.apply(this, arguments);
	};
}());

(0, _ava2.default)('with present footer should fail for "always present-participle"', function () {
	var _ref12 = _asyncToGenerator(function* (t) {
		var _footerTense23 = (0, _footerTense32.default)((yield parsed.mixed), 'always', ['present-participle']),
		    _footerTense24 = _slicedToArray(_footerTense23, 1),
		    actual = _footerTense24[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x12) {
		return _ref12.apply(this, arguments);
	};
}());

(0, _ava2.default)('with mixed footer should fail for "always past-tense"', function () {
	var _ref13 = _asyncToGenerator(function* (t) {
		var _footerTense25 = (0, _footerTense32.default)((yield parsed.mixed), 'always', ['past-tense']),
		    _footerTense26 = _slicedToArray(_footerTense25, 1),
		    actual = _footerTense26[0];

		var expected = false;
		t.is(actual, expected);
	});

	return function (_x13) {
		return _ref13.apply(this, arguments);
	};
}());

(0, _ava2.default)('with mixed footer should succeed for "always present-third-person, present-imperative, present-participle, past-tense"', function () {
	var _ref14 = _asyncToGenerator(function* (t) {
		var _footerTense27 = (0, _footerTense32.default)((yield parsed.mixed), 'always', ['present-third-person', 'present-imperative', 'present-participle', 'past-tense']),
		    _footerTense28 = _slicedToArray(_footerTense27, 1),
		    actual = _footerTense28[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x14) {
		return _ref14.apply(this, arguments);
	};
}());

(0, _ava2.default)('with mixed footer should succeed for "never allowed: present-third-person" and matching ignored: implements', function () {
	var _ref15 = _asyncToGenerator(function* (t) {
		var _footerTense29 = (0, _footerTense32.default)((yield parsed.mixed), 'never', {
			allowed: ['present-third-person'],
			ignored: ['implements']
		}),
		    _footerTense30 = _slicedToArray(_footerTense29, 1),
		    actual = _footerTense30[0];

		var expected = true;
		t.is(actual, expected);
	});

	return function (_x15) {
		return _ref15.apply(this, arguments);
	};
}());
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9ydWxlcy9mb290ZXItdGVuc2UudGVzdC5qcyJdLCJuYW1lcyI6WyJtZXNzYWdlcyIsImVtcHR5IiwicHJlc2VudEltcGVyYXRpdmUiLCJwcmVzZW50UGFydGljaXBsZSIsInByZXNlbnRUaGlyZFBlcnNvbiIsInBhc3QiLCJtaXhlZCIsInBhcnNlZCIsInQiLCJhY3R1YWwiLCJleHBlY3RlZCIsImlzIiwiYWxsb3dlZCIsImlnbm9yZWQiXSwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7OztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0FBRUEsSUFBTUEsV0FBVztBQUNoQkMsUUFBTyxzQkFEUztBQUVoQkMsb0JBQW9CLHNEQUZKO0FBR2hCQyxvQkFBb0Isc0RBSEo7QUFJaEJDLHFCQUFxQixvREFKTDtBQUtoQkMsT0FBTywwREFMUztBQU1oQkMsUUFBUTtBQU5RLENBQWpCOztBQVNBLElBQU1DLFNBQVM7QUFDZE4sUUFBTyxxQkFBTUQsU0FBU0MsS0FBZixDQURPO0FBRWRDLG9CQUFtQixxQkFBTUYsU0FBU0UsaUJBQWYsQ0FGTDtBQUdkQyxvQkFBbUIscUJBQU1ILFNBQVNHLGlCQUFmLENBSEw7QUFJZEMscUJBQW9CLHFCQUFNSixTQUFTRSxpQkFBZixDQUpOO0FBS2RHLE9BQU0scUJBQU1MLFNBQVNLLElBQWYsQ0FMUTtBQU1kQyxRQUFPLHFCQUFNTixTQUFTTSxLQUFmO0FBTk8sQ0FBZjs7QUFTQSxtQkFBSyxrQ0FBTDtBQUFBLDhCQUF5QyxXQUFNRSxDQUFOLEVBQVc7QUFBQSxxQkFDbEMsNkJBQVksTUFBTUQsT0FBT04sS0FBekIsR0FBZ0MsRUFBaEMsRUFBb0MsQ0FBQyxvQkFBRCxDQUFwQyxDQURrQztBQUFBO0FBQUEsTUFDNUNRLE1BRDRDOztBQUVuRCxNQUFNQyxXQUFXLElBQWpCO0FBQ0FGLElBQUVHLEVBQUYsQ0FBS0YsTUFBTCxFQUFhQyxRQUFiO0FBQ0EsRUFKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQSxtQkFBSyxvRUFBTDtB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LDZCQUFZLE1BQU1ELE9BQU9ELEtBQXpCLEdBQWdDLFFBQWhDLEVBQTBDLENBQUMsWUFBRCxDQUExQyxDQUR1RDtBQUFBO0FBQUEsTUFDakVHLE1BRGlFOztBQUV4RSxNQUFNQyxXQUFXLEtBQWpCO0FBQ0FGLElBQUVHLEVBQUYsQ0FBS0YsTUFBTCxFQUFhQyxRQUFiO0FBQ0EsRUFKRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFNQSxtQkFBSyx3SEFBTDtBQUFBLGdDQUErSCxXQUFNRixDQUFOLEVBQVc7QUFBQSx1QkFDeEgsNkJBQVksTUFBTUQsT0FBT0QsS0FBekIsR0FBZ0MsUUFBaEMsRUFBMEMsQ0FDMUQsc0JBRDBELEVBRTFELG9CQUYwRCxFQUcxRCxvQkFIMEQsRUFJMUQsWUFKMEQsQ0FBMUMsQ0FEd0g7QUFBQTtBQUFBLE1BQ2xJRyxNQURrSTs7QUFPekksTUFBTUMsV0FBVyxJQUFqQjtBQUNBRixJQUFFRyxFQUFGLENBQUtGLE1BQUwsRUFBYUMsUUFBYjtBQUNBLEVBVEQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBV0EsbUJBQUssNkdBQUw7QUFBQSxnQ0FBb0gsV0FBTUYsQ0FBTixFQUFXO0FBQUEsdUJBQzdHLDZCQUFZLE1BQU1ELE9BQU9ELEtBQXpCLEdBQWdDLE9BQWhDLEVBQXlDO0FBQ3pETSxZQUFTLENBQUMsc0JBQUQsQ0FEZ0Q7QUFFekRDLFlBQVMsQ0FBQyxZQUFEO0FBRmdELEdBQXpDLENBRDZHO0FBQUE7QUFBQSxNQUN2SEosTUFEdUg7O0FBSzlILE1BQU1DLFdBQVcsSUFBakI7QUFDQUYsSUFBRUcsRUFBRixDQUFLRixNQUFMLEVBQWFDLFFBQWI7QUFDQSxFQVBEOztBQUFBO0FBQUE7QUFBQTtBQUFBIiwiZmlsZSI6ImZvb3Rlci10ZW5zZS50ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHRlc3QgZnJvbSAnYXZhJztcbmltcG9ydCBwYXJzZSBmcm9tICcuLi9saWJyYXJ5L3BhcnNlJztcbmltcG9ydCBmb290ZXJUZW5zZSBmcm9tICcuL2Zvb3Rlci10ZW5zZSc7XG5cbmNvbnN0IG1lc3NhZ2VzID0ge1xuXHRlbXB0eTogJ2Nob3JlOiBzdWJqZWN0XFxuYm9keScsXG5cdHByZXNlbnRJbXBlcmF0aXZlOiBgY2hvcmU6IHN1YmplY3RcXG5CUkVBS0lORyBDSEFOR0U6IHdlIGltcGxlbWVudCB0aGluZ3NgLFxuXHRwcmVzZW50UGFydGljaXBsZTogYGNob3JlOiBzdWJqZWN0XFxuQlJFQUtJTkcgQ0hBTkdFOiBpbXBsZW1lbnRpbmcgdGhpbmdzYCxcblx0cHJlc2VudFRoaXJkUGVyc29uOiBgY2hvcmU6IHN1YmplY3RcXG5CUkVBS0lORyBDSEFOR0U6IGltcGxlbWVudHMgdGhpbmdzYCxcblx0cGFzdDogYGNob3JlOiBzdWJqZWN0XFxuQlJFQUtJTkcgQ0hBTkdFOiB3ZSBkaWQgaW1wbGVtZW50IHRoaW5nc2AsXG5cdG1peGVkOiBgY2hvcmU6IHN1YmplY3RcXG5CUkVBS0lORyBDSEFOR0U6IGltcGxlbWVudCwgaW1wbGVtZW50aW5nLCBpbXBsZW1lbnRzLCBpbXBsZW1lbnRlZGBcbn07XG5cbmNvbnN0IHBhcnNlZCA9IHtcblx0ZW1wdHk6IHBhcnNlKG1lc3NhZ2VzLmVtcHR5KSxcblx0cHJlc2VudEltcGVyYXRpdmU6IHBhcnNlKG1lc3NhZ2VzLnByZXNlbnRJbXBlcmF0aXZlKSxcblx0cHJlc2VudFBhcnRpY2lwbGU6IHBhcnNlKG1lc3NhZ2VzLnByZXNlbnRQYXJ0aWNpcGxlKSxcblx0cHJlc2VudFRoaXJkUGVyc29uOiBwYXJzZShtZXNzYWdlcy5wcmVzZW50SW1wZXJhdGl2ZSksXG5cdHBhc3Q6IHBhcnNlKG1lc3NhZ2VzLnBhc3QpLFxuXHRtaXhlZDogcGFyc2UobWVzc2FnZXMubWl4ZWQpXG59O1xuXG50ZXN0KCd3aXRoIGVtcHR5IGZvb3RlciBzaG91bGQgc3VjY2VlZCcsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5lbXB0eSwgJycsIFsncHJlc2VudC1pbXBlcmF0aXZlJ10pO1xuXHRjb25zdCBleHBlY3RlZCA9IHRydWU7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBwcmVzZW50IGZvb3RlciBzaG91bGQgc3VjY2VlZCBmb3IgXCJhbHdheXMgcHJlc2VudC1pbXBlcmF0aXZlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucHJlc2VudEltcGVyYXRpdmUsICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtaW1wZXJhdGl2ZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCd3aXRoIHByZXNlbnQgZm9vdGVyIHNob3VsZCBmYWlsIGZvciBcIm5ldmVyIHByZXNlbnQtaW1wZXJhdGl2ZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLnByZXNlbnRJbXBlcmF0aXZlLCAnbmV2ZXInLCBbXG5cdFx0J3ByZXNlbnQtaW1wZXJhdGl2ZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBwcmVzZW50IGZvb3RlciBzaG91bGQgc3VjY2VlZCBmb3IgXCJhbHdheXMgcHJlc2VudC1wYXJ0aWNpcGxlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucHJlc2VudFBhcnRpY2lwbGUsICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtcGFydGljaXBsZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gdHJ1ZTtcblx0dC5pcyhhY3R1YWwsIGV4cGVjdGVkKTtcbn0pO1xuXG50ZXN0KCd3aXRoIHByZXNlbnQgZm9vdGVyIHNob3VsZCBmYWlsIGZvciBcIm5ldmVyIHByZXNlbnQtcGFydGljaXBsZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLnByZXNlbnRQYXJ0aWNpcGxlLCAnbmV2ZXInLCBbXG5cdFx0J3ByZXNlbnQtcGFydGljaXBsZSdcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBwcmVzZW50IGZvb3RlciBzaG91bGQgc3VjY2VlZCBmb3IgXCJhbHdheXMgcHJlc2VudC10aGlyZC1wZXJzb25cIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wcmVzZW50VGhpcmRQZXJzb24sICdhbHdheXMnLCBbXG5cdFx0J3ByZXNlbnQtdGhpcmQtcGVyc29uJ1xuXHRdKTtcblx0Y29uc3QgZXhwZWN0ZWQgPSB0cnVlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3dpdGggcHJlc2VudCBmb290ZXIgc2hvdWxkIGZhaWwgZm9yIFwibmV2ZXIgcHJlc2VudC10aGlyZC1wZXJzb25cIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wcmVzZW50VGhpcmRQZXJzb24sICduZXZlcicsIFtcblx0XHQncHJlc2VudC10aGlyZC1wZXJzb24nXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3dpdGggcGFzdCBmb290ZXIgc2hvdWxkIHN1Y2NlZGQgZm9yIFwiYWx3YXlzIHBhc3QtdGVuc2VcIicsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5wYXN0LCAnYWx3YXlzJywgWydwYXN0LXRlbnNlJ10pO1xuXHRjb25zdCBleHBlY3RlZCA9IHRydWU7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBwYXN0IGZvb3RlciBzaG91bGQgZmFpbCBmb3IgXCJuZXZlciBwYXN0LXRlbnNlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQucGFzdCwgJ25ldmVyJywgWydwYXN0LXRlbnNlJ10pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3dpdGggbWl4ZWQgZm9vdGVyIHNob3VsZCBmYWlsIGZvciBcImFsd2F5cyBwcmVzZW50LXRoaXJkLXBlcnNvblwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLm1peGVkLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LXRoaXJkLXBlcnNvbidcblx0XSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBtaXhlZCBmb290ZXIgc2hvdWxkIGZhaWwgZm9yIFwiYWx3YXlzIHByZXNlbnQtaW1wZXJhdGl2ZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLm1peGVkLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LWltcGVyYXRpdmUnXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3dpdGggcHJlc2VudCBmb290ZXIgc2hvdWxkIGZhaWwgZm9yIFwiYWx3YXlzIHByZXNlbnQtcGFydGljaXBsZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLm1peGVkLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LXBhcnRpY2lwbGUnXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IGZhbHNlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG5cbnRlc3QoJ3dpdGggbWl4ZWQgZm9vdGVyIHNob3VsZCBmYWlsIGZvciBcImFsd2F5cyBwYXN0LXRlbnNlXCInLCBhc3luYyB0ID0+IHtcblx0Y29uc3QgW2FjdHVhbF0gPSBmb290ZXJUZW5zZShhd2FpdCBwYXJzZWQubWl4ZWQsICdhbHdheXMnLCBbJ3Bhc3QtdGVuc2UnXSk7XG5cdGNvbnN0IGV4cGVjdGVkID0gZmFsc2U7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBtaXhlZCBmb290ZXIgc2hvdWxkIHN1Y2NlZWQgZm9yIFwiYWx3YXlzIHByZXNlbnQtdGhpcmQtcGVyc29uLCBwcmVzZW50LWltcGVyYXRpdmUsIHByZXNlbnQtcGFydGljaXBsZSwgcGFzdC10ZW5zZVwiJywgYXN5bmMgdCA9PiB7XG5cdGNvbnN0IFthY3R1YWxdID0gZm9vdGVyVGVuc2UoYXdhaXQgcGFyc2VkLm1peGVkLCAnYWx3YXlzJywgW1xuXHRcdCdwcmVzZW50LXRoaXJkLXBlcnNvbicsXG5cdFx0J3ByZXNlbnQtaW1wZXJhdGl2ZScsXG5cdFx0J3ByZXNlbnQtcGFydGljaXBsZScsXG5cdFx0J3Bhc3QtdGVuc2UnXG5cdF0pO1xuXHRjb25zdCBleHBlY3RlZCA9IHRydWU7XG5cdHQuaXMoYWN0dWFsLCBleHBlY3RlZCk7XG59KTtcblxudGVzdCgnd2l0aCBtaXhlZCBmb290ZXIgc2hvdWxkIHN1Y2NlZWQgZm9yIFwibmV2ZXIgYWxsb3dlZDogcHJlc2VudC10aGlyZC1wZXJzb25cIiBhbmQgbWF0Y2hpbmcgaWdub3JlZDogaW1wbGVtZW50cycsIGFzeW5jIHQgPT4ge1xuXHRjb25zdCBbYWN0dWFsXSA9IGZvb3RlclRlbnNlKGF3YWl0IHBhcnNlZC5taXhlZCwgJ25ldmVyJywge1xuXHRcdGFsbG93ZWQ6IFsncHJlc2VudC10aGlyZC1wZXJzb24nXSxcblx0XHRpZ25vcmVkOiBbJ2ltcGxlbWVudHMnXVxuXHR9KTtcblx0Y29uc3QgZXhwZWN0ZWQgPSB0cnVlO1xuXHR0LmlzKGFjdHVhbCwgZXhwZWN0ZWQpO1xufSk7XG4iXX0=
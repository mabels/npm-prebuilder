'use strict';

Object.defineProperty(exports, "__esModule", {
	value: true
});

var _extends2 = require('babel-runtime/helpers/extends');

var _extends3 = _interopRequireDefault(_extends2);

var _slicedToArray2 = require('babel-runtime/helpers/slicedToArray');

var _slicedToArray3 = _interopRequireDefault(_slicedToArray2);

var _chalk = require('chalk');

var _chalk2 = _interopRequireDefault(_chalk);

var _lodash = require('lodash');

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = format;

/**
 * Get formatted commit message
 * @param  {object}  input object containing structured results
 * @param  {boolean} debug show debug information in commit message
 * @return {string}        formatted debug message
 */

function format(input) {
	var debug = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;

	var results = debug ? (0, _lodash.entries)(input).reduce(function (registry, item) {
		var _item = (0, _slicedToArray3.default)(item, 2),
		    name = _item[0],
		    value = _item[1];

		return (0, _extends3.default)({}, registry, {
			[name]: value === null ? _chalk2.default.grey(`<${name}>`) : _chalk2.default.bold(value)
		});
	}, {}) : input;

	// Return formatted string
	var type = results.type,
	    scope = results.scope,
	    subject = results.subject,
	    body = results.body,
	    footer = results.footer;

	return [`${type}${scope ? '(' : ''}${scope}${scope ? ')' : ''}${type || scope ? ':' : ''} ${subject}`, body, footer].filter(Boolean).join('\n');
}
module.exports = exports['default'];
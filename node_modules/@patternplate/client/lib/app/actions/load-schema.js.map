{"version":3,"sources":["../../../src/app/actions/load-schema.js"],"names":["_","__","getState","prefix","base","response","json","charAt","length","slice"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEe,kDACb,aADa,EAEb,CAAOA,CAAP,EAAUC,EAAV,EAAcC,QAAd;AAAA;AACmB,SAAM,oBAAO,GAAEC,OAAOD,WAAWE,IAAlB,CAAwB,iBAAjC,CAAN;AAAXC,YAAW;AACjB,mBAAOA,SAASC,IAAT,EAAP;AADiB;AADnB,qBAFa,C;;;;AAQf,SAASH,MAAT,CAAgBC,IAAhB,EAAsB;AACpB,SAAOA,KAAKG,MAAL,CAAYH,KAAKI,MAAL,GAAc,CAA1B,MAAiC,GAAjC,GACHJ,KAAKK,KAAL,CAAW,CAAX,EAAcL,KAAKI,MAAL,GAAc,CAA5B,CADG,GAEHJ,IAFJ;AAGD","file":"load-schema.js","sourcesContent":["import url from \"url\";\nimport { createPromiseThunkAction } from \"./promise-thunk-action\";\nimport fetch from \"../utils/fetch\";\n\nexport default createPromiseThunkAction(\n  \"LOAD_SCHEMA\",\n  async (_, __, getState) => {\n    const response = await fetch(`${prefix(getState().base)}/api/state.json`);\n    return response.json();\n  }\n);\n\nfunction prefix(base) {\n  return base.charAt(base.length - 1) === \"/\"\n    ? base.slice(0, base.length - 1)\n    : base;\n}\n"]}
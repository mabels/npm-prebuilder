{"version":3,"sources":["../../../src/app/components/indicator.js"],"names":["Indicator","props","onClick","isValid","status","shortcut","toString","getLabel","StyledDot","div","theme","colors","active","getGlow","StyledIndicator","StyledLabel","color","getOut","getPulse","out","pulse","includes"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEeA,S;;;AAEf,SAASA,SAAT,CAAmBC,KAAnB,EAA0B;AACxB,SACE,6BAAC,eAAD;AACE,aAASA,MAAMC,OADjB;AAEE,WACEC,QAAQF,MAAMG,MAAd,IAAyB,cAAaH,MAAMI,QAAN,CAAeC,QAAf,EAA0B,EAAhE,GAAoE;AAHxE,KAME,6BAAC,WAAD;AAAa,UAAK,GAAlB;AAAsB,YAAQL,MAAMG;AAApC,KACGG,SAASN,KAAT,CADH,CANF,EASE,6BAAC,SAAD;AAAW,YAAQA,MAAMG;AAAzB,IATF,CADF;AAaD;;AAED,MAAMI,YAAY,mBAAOC,GAAnB;AAAA;AAAA,2NAQUR,SACZA,MAAMG,MAAN,KAAiB,OAAjB,IAA4BH,MAAMG,MAAN,KAAiB,SAA7C,GACI,kBADJ,GAEIH,MAAMS,KAAN,CAAYC,MAAZ,CAAmBC,MAXrB,EAaOX,SAAUA,MAAMG,MAAN,GAAe,CAAf,GAAmB,CAbpC,EAcMH,SAAUA,MAAMG,MAAN,GAAe,SAAf,GAA2B,EAd3C,EAeFH,SAASY,QAAQZ,KAAR,CAfP,CAAN;;AAkBA,MAAMa,kBAAkB,mBAAOL,GAAzB;AAAA;AAAA,yEAAN;;AAOA,MAAMM,cAAc,yCAAd;AAAA;AAAA,sDAGKd,SAASA,MAAMS,KAAN,CAAYC,MAAZ,CAAmBK,KAHjC,EAIFf,SAASgB,OAAOhB,KAAP,CAJP,CAAN;;AAOA,SAASY,OAAT,CAAiBZ,KAAjB,EAAwB;AACtB,SAAQ;;;;;;;;;;;;KAYLiB,SAASjB,KAAT,CAAgB;;EAZnB;AAeD;;AAED,MAAMkB,oDAAN;;AAMA,SAASF,MAAT,CAAgBhB,KAAhB,EAAuB;AACrB,MAAIA,MAAMG,MAAN,KAAiB,QAArB,EAA+B;AAC7B;AACD;;AAED,yFACee,GADf;AAID;;AAED,SAASZ,QAAT,CAAkBN,KAAlB,EAAyB;AACvB,UAAQA,MAAMG,MAAd;AACE,SAAK,OAAL;AACE,aAAO,OAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF,SAAK,QAAL;AACE,aAAO,QAAP;;AACF,SAAK,SAAL;AACE,aAAO,SAAP;;AACF;AACE,aAAO,EAAP;AAVJ;AAYD;;AAED,MAAMgB,iNAAN;;AAeA,SAASF,QAAT,CAAkBjB,KAAlB,EAAyB;AACvB,MAAIA,MAAMG,MAAN,KAAiB,SAArB,EAAgC;AAC9B;AACD;;AAED,+DACegB,KADf;AAGD;;AAED,SAASjB,OAAT,CAAiBC,MAAjB,EAAyB;AACvB,SAAO,CAAC,SAAD,EAAY,QAAZ,EAAsBiB,QAAtB,CAA+BjB,MAA/B,CAAP;AACD","file":"indicator.js","sourcesContent":["import React from \"react\";\nimport { styled, css, keyframes, Text } from \"@patternplate/components\";\n\nexport default Indicator;\n\nfunction Indicator(props) {\n  return (\n    <StyledIndicator\n      onClick={props.onClick}\n      title={\n        isValid(props.status) ? `Force sync ${props.shortcut.toString()}` : \"\"\n      }\n    >\n      <StyledLabel size=\"s\" status={props.status}>\n        {getLabel(props)}\n      </StyledLabel>\n      <StyledDot status={props.status} />\n    </StyledIndicator>\n  );\n}\n\nconst StyledDot = styled.div`\n  position: relative;\n  flex-grow: 0;\n  flex-shrink: 0;\n  height: 7.5px;\n  width: 7.5px;\n  margin-right: 5px;\n  border-radius: 50%;\n  background: ${props =>\n    props.status === \"error\" || props.status === \"offline\"\n      ? \"rgb(205, 63, 69)\"\n      : props.theme.colors.active};\n  transition: background 0.4s ease-in-out, opacity 0.5s ease-in;\n  opacity: ${props => (props.status ? 1 : 0)};\n  cursor: ${props => (props.status ? \"pointer\" : \"\")};\n  ${props => getGlow(props)};\n`;\n\nconst StyledIndicator = styled.div`\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  position: relative;\n`;\n\nconst StyledLabel = styled(Text)`\n  position: absolute;\n  right: 20px;\n  color: ${props => props.theme.colors.color};\n  ${props => getOut(props)};\n`;\n\nfunction getGlow(props) {\n  return `\n\t\t&::before {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\theight: 12px;\n\t\t\twidth: 12px;\n\t\t\tfilter: blur(3px);\n\t\t\tbackground: inherit;\n\t\t\ttransform: translate(-50%, -50%);\n\t\t\topacity: .6;\n\t\t\t${getPulse(props)};\n\t\t}\n\t`;\n}\n\nconst out = keyframes`\n\tto {\n\t\topacity: 0;\n\t}\n`;\n\nfunction getOut(props) {\n  if (props.status !== \"loaded\") {\n    return;\n  }\n\n  return css`\n    animation: ${out} 1s 0.15s;\n    animation-fill-mode: forwards;\n  `;\n}\n\nfunction getLabel(props) {\n  switch (props.status) {\n    case \"error\":\n      return \"error\";\n    case \"offline\":\n      return \"offline\";\n    case \"loaded\":\n      return \"synced\";\n    case \"loading\":\n      return \"syncing\";\n    default:\n      return \"\";\n  }\n}\n\nconst pulse = keyframes`\n  from {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n  50% {\n    opacity: 0;\n    transform: translate(-50%, -50%) scale(.75);\n  }\n  to {\n    opacity: .6;\n    transform: translate(-50%, -50%) scale(1);\n  }\n`;\n\nfunction getPulse(props) {\n  if (props.status !== \"loading\") {\n    return;\n  }\n\n  return css`\n    animation: ${pulse} 1s infinite;\n  `;\n}\n\nfunction isValid(status) {\n  return [\"loading\", \"loaded\"].includes(status);\n}\n"]}
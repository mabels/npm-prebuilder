{"version":3,"sources":["../../../src/app/components/search-field.js"],"names":["SearchField","Component","constructor","args","handleChange","bind","handleKeyDown","handleStop","props","onStop","trailing","timer","e","persist","onChange","target","hasValue","value","length","atEnd","selectionStart","which","altKey","ctrlKey","preventDefault","onClose","stopPropagation","onClear","onUp","suggestion","onComplete","onDown","render","autoFocus","name","onBlur","onFocus","placeholder","title","mark","children","defaultProps","blur"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;;;AAEA,MAAMA,WAAN,SAA0B,eAAMC,SAAhC,CAA0C;AACxCC,cAAY,GAAGC,IAAf,EAAqB;AACnB,UAAM,GAAGA,IAAT;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACA,SAAKC,aAAL,GAAqB,KAAKA,aAAL,CAAmBD,IAAnB,CAAwB,IAAxB,CAArB;AACA,SAAKE,UAAL,GAAkB,sBAAS,KAAKC,KAAL,CAAWC,MAApB,EAA4B,GAA5B,EAAiC;AAAEC,gBAAU;AAAZ,KAAjC,CAAlB;AACA,SAAKC,KAAL,GAAa,IAAb;AACD;;AAEDP,eAAaQ,CAAb,EAAgB;AACdA,MAAEC,OAAF;AACA,SAAKL,KAAL,CAAWM,QAAX,CAAoBF,CAApB;AACA,SAAKL,UAAL,CAAgBK,CAAhB;AACD;;AAEDN,gBAAcM,CAAd,EAAiB;AAAA,UACPG,MADO,GACIH,CADJ,CACPG,MADO;AAEf,UAAMC,WAAWD,OAAOE,KAAP,CAAaC,MAAb,GAAsB,CAAvC;AACA,UAAMC,QAAQH,YAAYD,OAAOK,cAAP,KAA0BL,OAAOE,KAAP,CAAaC,MAAjE;;AAEA,QAAIN,EAAES,KAAF,KAAY,EAAZ,IAAkBT,EAAEU,MAApB,IAA8BV,EAAEW,OAApC,EAA6C;AAC3CX,QAAEY,cAAF;AACA,WAAKhB,KAAL,CAAWiB,OAAX;AACD;;AACD,QAAIb,EAAES,KAAF,KAAY,EAAhB,EAAoB;AAClBT,QAAEc,eAAF;AACD;;AACD,QAAId,EAAES,KAAF,KAAY,EAAZ,IAAkBL,QAAtB,EAAgC;AAC9BJ,QAAEY,cAAF;AACA,WAAKhB,KAAL,CAAWmB,OAAX;AACD;;AACD,QAAIf,EAAES,KAAF,KAAY,EAAhB,EAAoB;AAClB,WAAKb,KAAL,CAAWoB,IAAX,CAAgBhB,CAAhB;AACD;;AACD,QAAIA,EAAES,KAAF,KAAY,EAAZ,IAAkBF,KAAlB,IAA2B,KAAKX,KAAL,CAAWqB,UAA1C,EAAsD;AACpDjB,QAAEY,cAAF;AACA,WAAKhB,KAAL,CAAWsB,UAAX,CAAsB,KAAKtB,KAAL,CAAWqB,UAAjC;AACD;;AACD,QAAIjB,EAAES,KAAF,KAAY,EAAZ,IAAkBF,KAAtB,EAA6B;AAC3BP,QAAEY,cAAF;AACA,WAAKhB,KAAL,CAAWuB,MAAX,CAAkBnB,CAAlB;AACD;AACF;;AAEDoB,WAAS;AACP,UAAMxB,QAAQ,KAAKA,KAAnB;AAEA,WACE;AACE,iBAAWA,MAAMyB,SADnB;AAEE,YAAMzB,MAAM0B,IAFd;AAGE,cAAQ1B,MAAM2B,MAHhB;AAIE,gBAAU,KAAK/B,YAJjB;AAKE,eAASI,MAAM4B,OALjB;AAME,iBAAW,KAAK9B,aANlB;AAOE,mBAAaE,MAAM6B,WAPrB;AAQE,kBAAY7B,MAAMqB,UARpB;AASE,aAAOrB,MAAM8B,KATf;AAUE,aAAO9B,MAAMS,KAVf;AAWE,qBAAaT,MAAM+B;AAXrB,OAaG/B,MAAMgC,QAbT,CADF;AAiBD;;AAhEuC;;AAmE1CxC,YAAYyC,YAAZ,GAA2B;AACzBC,QAAM,MAAM,CAAE,CADW;AAEzB5B,YAAU,MAAM,CAAE,CAFO;AAGzBsB,WAAS,MAAM,CAAE,CAHQ;AAIzBR,QAAM,MAAM,CAAE,CAJW;AAKzBG,UAAQ,MAAM,CAAE,CALS;AAMzBI,UAAQ,MAAM,CAAE,CANS;AAOzB1B,UAAQ,MAAM,CAAE,CAPS;AAQzBQ,SAAO;AARkB,CAA3B;eAWejB,W","file":"search-field.js","sourcesContent":["import React from \"react\";\nimport { debounce } from \"lodash\";\n\nimport { SearchField as SearchFieldComponent } from \"@patternplate/components\";\n\nclass SearchField extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleStop = debounce(this.props.onStop, 300, { trailing: true });\n    this.timer = null;\n  }\n\n  handleChange(e) {\n    e.persist();\n    this.props.onChange(e);\n    this.handleStop(e);\n  }\n\n  handleKeyDown(e) {\n    const { target } = e;\n    const hasValue = target.value.length > 0;\n    const atEnd = hasValue && target.selectionStart === target.value.length;\n\n    if (e.which === 32 && e.altKey && e.ctrlKey) {\n      e.preventDefault();\n      this.props.onClose();\n    }\n    if (e.which !== 27) {\n      e.stopPropagation();\n    }\n    if (e.which === 27 && hasValue) {\n      e.preventDefault();\n      this.props.onClear();\n    }\n    if (e.which === 38) {\n      this.props.onUp(e);\n    }\n    if (e.which === 39 && atEnd && this.props.suggestion) {\n      e.preventDefault();\n      this.props.onComplete(this.props.suggestion);\n    }\n    if (e.which === 40 && atEnd) {\n      e.preventDefault();\n      this.props.onDown(e);\n    }\n  }\n\n  render() {\n    const props = this.props;\n\n    return (\n      <SearchFieldComponent\n        autoFocus={props.autoFocus}\n        name={props.name}\n        onBlur={props.onBlur}\n        onChange={this.handleChange}\n        onFocus={props.onFocus}\n        onKeyDown={this.handleKeyDown}\n        placeholder={props.placeholder}\n        suggestion={props.suggestion}\n        title={props.title}\n        value={props.value}\n        data-search={props.mark}\n      >\n        {props.children}\n      </SearchFieldComponent>\n    );\n  }\n}\n\nSearchField.defaultProps = {\n  blur: () => {},\n  onChange: () => {},\n  onFocus: () => {},\n  onUp: () => {},\n  onDown: () => {},\n  onBlur: () => {},\n  onStop: () => {},\n  value: \"\"\n};\n\nexport default SearchField;\n"]}
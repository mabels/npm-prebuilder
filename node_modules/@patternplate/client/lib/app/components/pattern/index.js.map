{"version":3,"sources":["../../../../src/app/components/pattern/index.js"],"names":["btoa","global","input","Buffer","from","toString","VISIBILITY","props","checkers","CROSSES","PAD","padded","OFF","navigationEnabled","OFFSET","StyledPattern","StyledPatternFolder","div","StyledPatternDoc","StyledPatternDemo","StyledPatternLoader","hidden","error","theme","colors","active","status","PatternContainer","Pattern","Component","constructor","args","state","srcdoc","render","contentType","type","docs","screenshot","opacity","getPrefix","displayName","filter","Boolean","join","loading","enter","exit","src","contents","updated"],"mappings":"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","file":"index.js","sourcesContent":["import React from \"react\";\nimport Helmet from \"react-helmet\";\nimport { Markdown, styled } from \"@patternplate/components\";\nimport tag from \"tag-hoc\";\nimport Transition from \"react-transition-group/Transition\";\n\nimport PatternDemo from \"./pattern-demo\";\nimport PatternSheet from \"./pattern-sheet\";\n\nconst btoa = global.btoa ? global.btoa : input => Buffer.from(input).toString('base64');\n\nconst VISIBILITY = props => (props.checkers ? \"block\" : \"none\");\nconst CROSSES = props => btoa(`\n<svg width=\"20\" height=\"20\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path stroke-width=\"1\" stroke=\"#f2f2f2\" fill=\"none\" d=\"M10 6v8M6 10h8\"/>\n</svg>\n`);\n\nconst PAD = props => props.padded ? 50 : 0;\nconst OFF = props => props.navigationEnabled ? 300 : 0;\nconst OFFSET = props => PAD(props) + OFF(props);\n\nconst StyledPattern = styled(tag([\"checkers\", \"navigationEnabled\", \"padded\"])(\"div\"))`\n  position: fixed;\n  width: calc(100% - ${props => OFFSET(props) + PAD(props)}px);\n  top: ${PAD}px;\n  left: ${props => OFFSET(props)}px;\n  right: ${PAD}px;\n  bottom: ${PAD}px;\n  box-sizing: border-box;\n  height: 100%;\n  &::before {\n    content: \"\";\n    display: ${VISIBILITY};\n    position: absolute;\n    z-index: 1;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background-image: url(\"data:image/svg+xml;base64,${CROSSES}\");\n    background-size: 20px 20px;\n    background-repeat: repeat;\n    background-position: 50% 50%;\n  }\n`;\n\nconst StyledPatternFolder = styled.div`\n  height: 100%;\n  width: 100%;\n`;\n\nconst StyledPatternDoc = styled.div`\n  width: 100%;\n  max-width: 800px;\n  margin: 0 auto;\n  padding: 30px;\n  box-sizing: border-box;\n`;\n\nconst StyledPatternDemo = styled.div`\n  position: relative;\n  z-index: 2;\n  width: 100%;\n  height: 100%;\n  max-width: 1920px;\n  margin: 0 auto;\n`;\n\nconst StyledPatternLoader = styled.div`\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  right: 0;\n  left: 0;\n  height: 3px;\n  ${props => props.hidden ? 'display: none;' : ''}\n  &::after {\n    position: absolute;\n    top: 0;\n    z-index: 2;\n    content: \"\";\n    display: block;\n    width: 100%;\n    height: 100%;\n    background: ${props =>\n      props.error ? props.theme.colors.error : props.theme.colors.active};\n    opacity: 1;\n    transition: ${props => (props.error ? \"none\" : \"transform 1s ease-in-out\")};\n    ${props => {\n      switch (props.status) {\n        case \"entering\":\n          return `\n            transform: translateX(-100%);\n          `;\n        case \"entered\":\n          return `${props =>\n            props.error ? \"\" : \"transform: translateX(-15%);\"}`;\n        case \"exiting\":\n          return `\n            transition: transform .3s ease-out;\n            transform: translateX(0);\n          `;\n        case \"exited\":\n        default:\n          return `\n            transform: translateX(-100%);\n            transition: opacity .3s .25s ease-out;\n          `;\n      }\n    }};\n  }\n`;\n\nconst PatternContainer = styled.div`\n  height: 100%;\n  padding-left: ${props => props.navigationEnabled ? 0 : 60}px;\n`;\n\nexport default class Pattern extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = { srcdoc: false };\n  }\n\n  render() {\n    const { props } = this;\n\n    if (props.contentType !== \"pattern\") {\n      return null;\n    }\n\n    if (props.type === \"folder\") {\n      return (\n        <StyledPatternFolder>\n          <StyledPatternDoc>\n            <Markdown source={props.docs} />\n          </StyledPatternDoc>\n        </StyledPatternFolder>\n      );\n    }\n\n    return (\n      <React.Fragment>\n        <StyledPattern\n          padded={props.screenshot}\n          checkers={props.opacity}\n          navigationEnabled={props.navigationEnabled}\n          >\n          <Helmet\n            title={[getPrefix(props), props.displayName]\n              .filter(Boolean)\n              .join(\": \")}\n          />\n          <Transition\n            in={props.loading || props.error}\n            timeout={{ enter: 1000, exit: 850 }}\n          >\n            {status => (\n              <StyledPatternLoader\n                hidden={props.screenshot}\n                status={status}\n                error={props.error}\n                />\n            )}\n          </Transition>\n          <StyledPatternDemo>\n            <PatternContainer navigationEnabled={props.navigationEnabled}>\n              <PatternDemo\n                src={props.src}\n                contents={props.contents}\n                loading={props.loading}\n                updated={props.updated}\n              />\n            </PatternContainer>\n          </StyledPatternDemo>\n        </StyledPattern>\n        <PatternSheet/>\n      </React.Fragment>\n    );\n  }\n}\n\nfunction getPrefix(props) {\n  if (props.loading) {\n    return \"Load\";\n  }\n  if (props.error) {\n    return \"Error\";\n  }\n  return \"\";\n}\n"]}
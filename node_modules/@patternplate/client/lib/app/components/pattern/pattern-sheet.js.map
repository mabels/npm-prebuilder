{"version":3,"sources":["../../../../src/app/components/pattern/pattern-sheet.js"],"names":["processor","use","mapProps","PatternSheet","props","screenshot","name","version","dark","description","processSync","contents","flag","tags","map","tag","index","doc","StyledSearchTrigger","span","StyledLink","SearchTrigger","className","search","field","children","state","item","selectContents","selectDescription","id","icon","selectIcon","type","selectType","selectName","selectFlag","selectTags","selectVersion","routing","locationBeforeTransitions","query","TOOLBAR_HEIGHT","StyledName","StyledVersion","theme","colors","color","StyledDescription","recess","StyledPatternSheet","div","border","background","ORIENTATION","direction","orient","StyledPatternSheetContainer","StyledControlsArea","StyledControlsBox","StyledControlsItem","StyledTagList","StyledBoxLine","StyledMarkdownBox"],"mappings":"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","file":"pattern-sheet.js","sourcesContent":["import { connect } from \"react-redux\";\nimport React from \"react\";\nimport remark from \"remark\";\nimport emoji from \"remark-gemoji-to-emoji\";\n\nimport { Flag, Headline, Link, Markdown, styled, Tag, Text, ThemeProvider, themes } from \"@patternplate/components\";\n\nimport * as item from \"../../selectors/item\";\nimport Fullscreen from \"../../containers/trigger-fullscreen\";\nimport ToggleOpacity from \"../../containers/toggle-opacity\";\n\nconst processor = remark().use(emoji);\n\nexport default connect(mapProps)(PatternSheet);\n\nfunction PatternSheet(props) {\n  return (\n    <StyledPatternSheet screenshot={props.screenshot}>\n      <StyledPatternSheetContainer>\n          <StyledControlsBox>\n            <StyledName>\n              {props.name}\n              <StyledVersion>@{props.version}</StyledVersion>\n            </StyledName>\n            <ThemeProvider theme={themes().dark}>\n              <StyledControlsArea orient=\"right\">\n                <StyledControlsItem>\n                  <ToggleOpacity />\n                </StyledControlsItem>\n                <StyledControlsItem>\n                  <Fullscreen />\n                </StyledControlsItem>\n              </StyledControlsArea>\n            </ThemeProvider>\n          </StyledControlsBox>\n          {props.description &&\n            <StyledDescription>\n              {processor.processSync(props.description).contents}\n            </StyledDescription>\n          }\n          <StyledBoxLine>\n            <SearchTrigger field=\"flag\" search={props.flag}>\n              <Flag>{props.flag}</Flag>\n            </SearchTrigger>\n            <StyledTagList>\n              {\n                props.tags.map((tag, index) => (\n                  <SearchTrigger key={`${tag}-${index}`} field=\"tags\" search={tag}>\n                    <Tag>{tag}</Tag>\n                  </SearchTrigger>\n                ))\n              }\n            </StyledTagList>\n          </StyledBoxLine>\n          {typeof props.doc === \"string\" &&\n            <StyledMarkdownBox>\n              <Markdown\n                linkable={true}\n                source={props.doc}\n              />\n            </StyledMarkdownBox>\n          }\n      </StyledPatternSheetContainer>\n    </StyledPatternSheet>\n  );\n}\n\n\nconst StyledSearchTrigger = styled.span`\n  &:not(:first-child) {\n    margin-left: 10px;\n  }\n`;\n\nconst StyledLink = styled(Link)`\n  text-decoration: none;\n`;\n\nfunction SearchTrigger(props) {\n  return (\n    <StyledSearchTrigger>\n      <StyledLink\n        className={props.className}\n        query={{\n          \"search-enabled\": true,\n          search: `${props.field}=${props.search}`\n        }}\n        title={`Search other patterns with ${props.field} \"${props.search}\"`}\n      >\n        {props.children}\n      </StyledLink>\n    </StyledSearchTrigger>\n  );\n}\n\nfunction mapProps(state) {\n  return {\n    doc: item.selectContents(state),\n    description: item.selectDescription(state),\n    id: state.id,\n    icon: item.selectIcon(state),\n    type: item.selectType(state),\n    name: item.selectName(state),\n    flag: item.selectFlag(state),\n    tags: item.selectTags(state),\n    version: item.selectVersion(state),\n    screenshot: state.routing.locationBeforeTransitions.query.screenshot === \"true\"\n  };\n}\n\nconst TOOLBAR_HEIGHT = 60;\n\nconst StyledName = styled(props => <Headline {...props} is=\"h1\" order={1}/>)`\n  margin: 0 0 10px 0;\n`;\n\nconst StyledVersion = styled(props => <Headline {...props} is=\"small\" order={3}/>)`\n  display: inline-block;\n  color: ${props => props.theme.colors.color};\n  margin: 0;\n`;\n\nconst StyledDescription = styled(Text)`\n  color: ${props => props.theme.colors.recess};\n  margin-bottom: 20px;\n`;\n\nconst StyledPatternSheet = styled.div`\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  width: 100%;\n  min-height: 30vh;\n  margin-top: 70vh;\n  padding: 30px 60px;\n  border-top: 1px solid ${props => props.theme.colors.border};\n  background: ${props => props.theme.colors.background};\n`;\n\nconst ORIENTATION = props => {\n  const direction = props.orient === \"right\" ? \"left\" : \"right\";\n  return `margin-${direction}: auto`;\n};\n\nconst StyledPatternSheetContainer = styled.div`\n  margin: 0 auto;\n  max-width: 1240px;\n`;\n\nconst StyledControlsArea = styled.div`\n  display: flex;\n  ${ORIENTATION};\n`;\n\nconst StyledControlsBox = styled.div`\n  display: flex;\n  align-items: center;\n  flex: 0 0 auto;\n  position: relative;\n  z-index: 2;\n  box-sizing: border-box;\n  background: white;\n`;\n\nconst StyledControlsItem = styled.div`\n  & + & {\n    padding-left: 10px;\n  }\n`;\n\nconst StyledTagList = styled.div`\n  display: inline-block;\n  margin-left: 10px;\n  padding: 2px 10px;\n  border-left: 1px solid ${props => props.theme.colors.border};\n`;\n\nconst StyledBoxLine = styled.div`\n  display: flex;\n  align-items: center;\n  min-height: 32px;\n`;\n\nconst StyledMarkdownBox = styled.div`\n  margin-top: 30px;\n`;\n"]}
{"version":3,"sources":["../../../src/app/reducers/depth.js"],"names":["getDepth","pathname","fragments","split","filter","Boolean","fragmentIndex","map","known","indexOf","find","index","length","slice","next","_","payload"],"mappings":";;;;;;;;AAAA;;AAEO,SAASA,QAAT,CAAkBC,QAAlB,EAA4B;AACjC,QAAMC,YAAYD,SAASE,KAAT,CAAe,GAAf,EAAoBC,MAApB,CAA2BC,OAA3B,CAAlB;AAEA,QAAMC,gBAAgB,CAAC,SAAD,EAAY,KAAZ,EACnBC,GADmB,CACfC,SAASN,UAAUO,OAAV,CAAkBD,KAAlB,CADM,EAEnBE,IAFmB,CAEdC,SAASA,UAAU,CAAC,CAFN,CAAtB;AAIA,QAAMA,QAAQL,kBAAkB,IAAlB,GAAyBJ,UAAUU,MAAnC,GAA4CN,aAA1D;AACA,SAAOJ,UAAUW,KAAV,CAAgB,CAAhB,EAAmBF,KAAnB,EAA0BP,MAA1B,CAAiCC,OAAjC,EAA0CO,MAAjD;AACD;;eAEc,gCACb,0BADa,EAEb;AACEE,OAAKC,CAAL,EAAQ;AAAEC,aAAS;AAAEf;AAAF;AAAX,GAAR,EAAmC;AACjC,WAAOD,SAASC,QAAT,CAAP;AACD;;AAHH,CAFa,EAOb,GAPa,C","file":"depth.js","sourcesContent":["import { handleAction } from \"redux-actions\";\n\nexport function getDepth(pathname) {\n  const fragments = pathname.split(\"/\").filter(Boolean);\n\n  const fragmentIndex = [\"pattern\", \"doc\"]\n    .map(known => fragments.indexOf(known))\n    .find(index => index !== -1);\n\n  const index = fragmentIndex === null ? fragments.length : fragmentIndex;\n  return fragments.slice(0, index).filter(Boolean).length;\n}\n\nexport default handleAction(\n  \"@@router/LOCATION_CHANGE\",\n  {\n    next(_, { payload: { pathname } }) {\n      return getDepth(pathname);\n    }\n  },\n  \".\"\n);\n"]}
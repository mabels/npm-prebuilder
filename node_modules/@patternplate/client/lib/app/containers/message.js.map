{"version":3,"sources":["../../../src/app/containers/message.js"],"names":["mapState","selectLines","state","messages","demo","selectSrc","src","split","filter","Boolean","selectMessage","lines","slice","map","l","trim","join","selectDetails","length","selectActive","message","active","details","summary"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;;;;;eAEe,yBAAQA,QAAR,EAAkB,4CAAlB,C;;;AAEf,MAAMC,cAAc,8BAClBC,SAASA,MAAMC,QADG,EAElBC,KAAKC,SAFa,EAGlB,CAACF,QAAD,EAAWG,GAAX,KAAmB,CAACH,SAASG,GAAT,KAAiB,EAAlB,EAAsBC,KAAtB,CAA4B,IAA5B,EAAkCC,MAAlC,CAAyCC,OAAzC,CAHD,CAApB;AAMA,MAAMC,gBAAgB,8BAAeT,WAAf,EAA4BU,SAChDA,MACGC,KADH,CACS,CADT,EACY,CADZ,EAEGC,GAFH,CAEOC,KAAKA,EAAEC,IAAF,EAFZ,EAGGC,IAHH,CAGQ,IAHR,CADoB,CAAtB;AAOA,MAAMC,gBAAgB,8BAAehB,WAAf,EAA4BU,SAAS;AACzD,MAAIA,MAAMO,MAAN,IAAgB,CAApB,EAAuB;AACrB,WAAO,EAAP;AACD;;AACD,SAAOP,MAAMK,IAAN,CAAW,IAAX,CAAP;AACD,CALqB,CAAtB;AAOA,MAAMG,eAAe,8BACnBT,aADmB,EAEnBU,WAAW,OAAOA,OAAP,KAAmB,QAAnB,IAA+BA,YAAY,EAFnC,CAArB;;AAKA,SAASpB,QAAT,CAAkBE,KAAlB,EAAyB;AACvB,SAAO;AACLmB,YAAQF,aAAajB,KAAb,CADH;AAELkB,aAASV,cAAcR,KAAd,CAFJ;AAGLoB,aAASL,cAAcf,KAAd,CAHJ;AAILqB,aAAS;AAJJ,GAAP;AAMD","file":"message.js","sourcesContent":["import { connect } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { skippable } from \"../behaviours\";\n\nimport Message from \"../components/message\";\nimport * as demo from \"../selectors/demo\";\n\nexport default connect(mapState)(skippable(Message));\n\nconst selectLines = createSelector(\n  state => state.messages,\n  demo.selectSrc,\n  (messages, src) => (messages[src] || \"\").split(\"\\n\").filter(Boolean)\n);\n\nconst selectMessage = createSelector(selectLines, lines =>\n  lines\n    .slice(0, 2)\n    .map(l => l.trim())\n    .join(\"\\n\")\n);\n\nconst selectDetails = createSelector(selectLines, lines => {\n  if (lines.length <= 2) {\n    return \"\";\n  }\n  return lines.join(\"\\n\");\n});\n\nconst selectActive = createSelector(\n  selectMessage,\n  message => typeof message === \"string\" && message !== \"\"\n);\n\nfunction mapState(state) {\n  return {\n    active: selectActive(state),\n    message: selectMessage(state),\n    details: selectDetails(state),\n    summary: \"Details\"\n  };\n}\n"]}
{"version":3,"sources":["process.ts"],"names":["Process","Process.constructor","Process.output","Process.outputKey","Process.outputLine","Process.outputJSDoc","Process.doIndent","Process.increaseIndent","Process.decreaseIndent","Process.getIndent","Process.repeatString","Process.toDefinition"],"mappings":"AAEA,IAAM,OAAO;IAAbA,SAAMA,OAAOA;QAEZC,eAAUA,GAAGA,GAAGA,CAACA;QACjBA,eAAUA,GAAGA,CAACA,CAACA;QAEfA,WAAMA,GAAGA,CAACA,CAACA;QAEXA,aAAQA,GAAGA,EAAEA,CAACA;QACdA,4BAAuBA,GAAGA,KAAKA,CAACA;IAqGjCA,CAACA;IAnGAD,wBAAMA,GAANA,UAAOA,GAAWA;QACjBE,IAAIA,CAACA,QAAQA,EAAEA,CAACA;QAChBA,IAAIA,CAACA,QAAQA,IAAIA,GAAGA,CAACA;QACrBA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDF,2BAASA,GAATA,UAAUA,IAAYA;QACrBG,EAAEA,CAACA,CAACA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA,IAAIA,IAAIA,CAACA,OAAOA,CAACA,GAAGA,CAACA,KAAKA,CAACA,CAACA,CAACA,CAACA,CAACA;YAC1DA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA;QAC7CA,CAACA;QAACA,IAAIA,CAACA,CAACA;YACPA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA;QACnBA,CAACA;QACDA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDH,4BAAUA,GAAVA,UAAWA,GAAYA;QACtBI,IAAIA,CAACA,QAAQA,EAAEA,CAACA;QAChBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,CAACA,CAACA;YACTA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;QAClBA,CAACA;QACDA,IAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA;QAClBA,IAAIA,CAACA,uBAAuBA,GAAGA,KAAKA,CAACA;QACrCA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDJ,6BAAWA,GAAXA,UAAYA,WAAmBA,EAAEA,UAAuDA;QAAxFK,iBAkCCA;QAlCgCA,0BAAuDA,GAAvDA,eAAuDA;QACvFA,EAAEA,CAACA,CAACA,CAACA,WAAWA,IAAIA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,MAAMA,KAAKA,CAACA,CAACA,CAACA,CAACA;YAC1DA,MAAMA,CAACA;QACRA,CAACA;QACDA,WAAWA,GAAGA,WAAWA,IAAIA,EAAEA,CAACA;QAEhCA,IAAIA,CAACA,UAAUA,CAACA,KAAKA,CAACA,CAACA;QACvBA,WAAWA,CAACA,KAAKA,CAACA,IAAIA,CAACA,CAACA,OAAOA,CAACA,UAAAA,IAAOA;YACtCA,KAAIA,CAACA,MAAMA,CAACA,KAAKA,CAACA,CAACA,UAAUA,CAACA,IAAIA,CAACA,CAACA;QACrCA,CAACA,CAACA,CAACA;QACHA,MAAMA,CAACA,IAAIA,CAACA,UAAUA,CAACA,CAACA,OAAOA,CAACA,UAAAA,YAAeA;YAC9CA,IAAIA,SAASA,GAAGA,UAAUA,CAACA,YAAYA,CAACA,CAACA;YACzCA,AACAA,gBADgBA;YAChBA,KAAIA,CAACA,MAAMA,CAACA,cAAcA,CAACA,CAACA;YAC5BA,MAAMA,CAACA,CAACA,SAASA,CAACA,IAAIA,CAACA,CAACA,CAACA;gBACxBA,KAAKA,QAAQA;oBACZA,KAAIA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA;oBACtBA,KAAKA,CAACA;gBACPA,KAAKA,SAASA,CAACA;gBACfA,KAAKA,QAAQA;oBACZA,KAAIA,CAACA,MAAMA,CAACA,QAAQA,CAACA,CAACA;oBACtBA,KAAKA,CAACA;gBACPA,KAAKA,SAASA;oBACbA,KAAIA,CAACA,MAAMA,CAACA,SAASA,CAACA,CAACA;oBACvBA,KAAKA,CAACA;gBACPA;oBACCA,OAAOA,CAACA,KAAKA,CAACA,SAASA,CAACA,CAACA;oBACzBA,MAAMA,IAAIA,KAAKA,CAACA,cAAcA,CAACA,CAACA;YAClCA,CAACA;YAEDA,KAAIA,CAACA,MAAMA,CAACA,IAAIA,CAACA,CAACA,MAAMA,CAACA,YAAYA,CAACA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA,UAAUA,CAACA,SAASA,CAACA,WAAWA,CAACA,CAACA;QACtFA,CAACA,CAACA,CAACA;QACHA,IAAIA,CAACA,UAAUA,CAACA,KAAKA,CAACA,CAACA;QACvBA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDL,0BAAQA,GAARA;QACCM,EAAEA,CAACA,CAACA,CAACA,IAAIA,CAACA,uBAAuBA,CAACA,CAACA,CAACA;YACnCA,IAAIA,MAAMA,GAAGA,IAAIA,CAACA,SAASA,EAAEA,CAACA;YAC9BA,IAAIA,CAACA,QAAQA,IAAIA,MAAMA,CAACA;YACxBA,IAAIA,CAACA,uBAAuBA,GAAGA,IAAIA,CAACA;QACrCA,CAACA;QACDA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDN,gCAAcA,GAAdA;QACCO,IAAIA,CAACA,MAAMA,EAAEA,CAACA;QACdA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDP,gCAAcA,GAAdA;QACCQ,IAAIA,CAACA,MAAMA,EAAEA,CAACA;QACdA,MAAMA,CAACA,IAAIA,CAACA;IACbA,CAACA;IAEDR,2BAASA,GAATA;QACCS,IAAIA,MAAMA,GAAGA,EAAEA,CAACA;QAChBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,IAAIA,CAACA,MAAMA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;YACtCA,MAAMA,IAAIA,IAAIA,CAACA,YAAYA,CAACA,IAAIA,CAACA,UAAUA,EAAEA,IAAIA,CAACA,UAAUA,CAACA,CAACA;QAC/DA,CAACA;QACDA,MAAMA,CAACA,MAAMA,CAACA;IACfA,CAACA;IAEDT,8BAAYA,GAAZA,UAAaA,CAASA,EAAEA,CAASA;QAChCU,IAAIA,MAAMA,GAAGA,EAAEA,CAACA;QAChBA,GAAGA,CAACA,CAACA,GAAGA,CAACA,CAACA,GAAGA,CAACA,EAAEA,CAACA,GAAGA,CAACA,EAAEA,CAACA,EAAEA,EAAEA,CAACA;YAC5BA,MAAMA,IAAIA,CAACA,CAACA;QACbA,CAACA;QACDA,MAAMA,CAACA,MAAMA,CAACA;IACfA,CAACA;IAEDV,8BAAYA,GAAZA;QACCW,MAAMA,CAACA,IAAIA,CAACA,QAAQA,CAACA;IACtBA,CAACA;IACFX,cAACA;AAADA,CA7GA,AA6GCA,IAAA;AAED,AAAiB,iBAAR,OAAO,CAAC","file":"process.js","sourceRoot":"/Users/horiuchihiroki/work/typescript/dtsgenerator/","sourcesContent":["import model = require(\"model\");\n\nclass Process {\n\n\tindentChar = \" \";\n\tindentStep = 2;\n\n\tindent = 0;\n\n\t_results = \"\";\n\t_alreadlyIndentThisLine = false;\n\n\toutput(str: string): Process {\n\t\tthis.doIndent();\n\t\tthis._results += str;\n\t\treturn this;\n\t}\n\n\toutputKey(name: string): Process {\n\t\tif (name.indexOf(\"-\") !== -1 || name.indexOf(\".\") !== -1) {\n\t\t\tthis.output(\"\\\"\").output(name).output(\"\\\"\");\n\t\t} else {\n\t\t\tthis.output(name);\n\t\t}\n\t\treturn this;\n\t}\n\n\toutputLine(str?: string): Process {\n\t\tthis.doIndent();\n\t\tif (str) {\n\t\t\tthis.output(str);\n\t\t}\n\t\tthis.output(\"\\n\");\n\t\tthis._alreadlyIndentThisLine = false;\n\t\treturn this;\n\t}\n\n\toutputJSDoc(description: string, parameters: { [name: string]: model.IJsonSchema; } = {}): Process {\n\t\tif (!description && Object.keys(parameters).length === 0) {\n\t\t\treturn;\n\t\t}\n\t\tdescription = description || \"\";\n\n\t\tthis.outputLine(\"/**\");\n\t\tdescription.split(\"\\n\").forEach(line => {\n\t\t\tthis.output(\" * \").outputLine(line);\n\t\t});\n\t\tObject.keys(parameters).forEach(parameterKey => {\n\t\t\tvar parameter = parameters[parameterKey];\n\t\t\t// TODO type doc\n\t\t\tthis.output(\" * @params {\");\n\t\t\tswitch (parameter.type) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tthis.output(\"string\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"integer\":\n\t\t\t\tcase \"number\":\n\t\t\t\t\tthis.output(\"number\");\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"boolean\":\n\t\t\t\t\tthis.output(\"boolean\");\n\t\t\t\t\tbreak;\n\t\t\t\tdefault :\n\t\t\t\t\tconsole.error(parameter);\n\t\t\t\t\tthrow new Error(\"unknown type\");\n\t\t\t}\n\n\t\t\tthis.output(\"} \").output(parameterKey).output(\" \").outputLine(parameter.description);\n\t\t});\n\t\tthis.outputLine(\" */\");\n\t\treturn this;\n\t}\n\n\tdoIndent(): Process {\n\t\tif (!this._alreadlyIndentThisLine) {\n\t\t\tvar indent = this.getIndent();\n\t\t\tthis._results += indent;\n\t\t\tthis._alreadlyIndentThisLine = true;\n\t\t}\n\t\treturn this;\n\t}\n\n\tincreaseIndent(): Process {\n\t\tthis.indent++;\n\t\treturn this;\n\t}\n\n\tdecreaseIndent(): Process {\n\t\tthis.indent--;\n\t\treturn this;\n\t}\n\n\tgetIndent(): string {\n\t\tvar indent = \"\";\n\t\tfor (var i = 0; i < this.indent; i++) {\n\t\t\tindent += this.repeatString(this.indentStep, this.indentChar);\n\t\t}\n\t\treturn indent;\n\t}\n\n\trepeatString(n: number, s: string): string {\n\t\tvar result = \"\";\n\t\tfor (var i = 0; i < n; i++) {\n\t\t\tresult += s;\n\t\t}\n\t\treturn result;\n\t}\n\n\ttoDefinition(): string {\n\t\treturn this._results;\n\t}\n}\n\nexport = Process;\n\n"]}